{"version":3,"sources":["components/header/Header.js","components/input/input.js","services/api.js","pages/sign-in/SignIn.js","pages/sign-out/SignOut.js","states.js","components/sign-up-form/SignUpForm.js","pages/sign-up/SignUp.js","components/new-wine-form/NewWineForm.js","components/wine/Wine.js","pages/wines-panel/WinesPanel.js","components/new-offers-form/NewOfferForm.js","components/offer/Offer.js","pages/offers-panel/OffersPanel.js","components/admin-panel/AdminPanel.js","components/about/About.js","pages/homepage/HomePage.js","pages/profile/ProfileForm.js","containers/profile-container/ProfileContainer.js","containers/main-container/MainContainer.js","App.js","serviceWorker.js","index.js"],"names":["Header","isAdmin","loggedIn","firstName","className","to","Input","props","onChange","e","chg","name","inputClass","placeholder","label","value","type","inputType","defaultProps","API_ROOT","login","config","fetch","autoLogin","credentials","logout","getData","newWine","deleteWine","id","newOffer","deleteOffer","signUp","show","destroy","update","SignIn","state","email","password","inputChanged","event","setState","target","preventDefault","method","headers","body","JSON","stringify","api","then","resp","json","afterLogin","this","clearError","onSubmit","error","Component","SignOut","color","animateMsg","clearInterval","blinker","afterLogout","setInterval","console","log","setTimeout","style","states","SignUpForm","lastName","mobileNumber","shippingAddress1","shippingAddress2","city","zipcode","submit","Object","entries","errors","map","err","abb","key","PureComponent","SignUp","success","submitNewUser","formContents","newState","status","ActiveStorage","NewWineForm","fullName","price","inventory","natural","organic","biodynamic","image","handlePreviewImage","imgFile","files","preview","URL","createObjectURL","upload","handleChange","ele","checked","hasImg","encType","accept","src","alt","width","height","disabled","React","Wine","wine","wineID","attributes","onClick","WinesPanel","mode","hasImageAttached","directUpload","file","DirectUpload","create","directUploadComplete","response","submitNewWine","formData","FormData","append","processNewWine","updateData","setMode","persist","afterDelete","wines","NewOfferForm","offerDateTime","Date","now","toISOString","slice","maxForThisWine","numOffered","wineSelected","find","required","htmlFor","min","max","Offer","offer","offerID","broadcastOffer","numSold","isActiveOffer","OffersPanel","selectedOffer","submitNewOffer","values","keys","obj","reduce","a","pickValues","processNewOffer","offers","AdminPanel","users","dataFetchInProgress","dataNeedsUpdate","getNewData","res","data","exact","path","render","About","HomePage","ProfileForm","handleDelete","handleInputChange","handleEditSubmit","ProfileContainer","setFields","user","afterDestroy","MainContainer","loginError","clearLoginError","component","App","checkLogin","expires","expiresIn","parse","logsOutAt","history","push","clearLoginErrors","withRouter","Boolean","window","location","hostname","match","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","message"],"mappings":"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","file":"static/js/main.d86ad8e1.chunk.js","sourcesContent":["import React from 'react'\nimport { NavLink } from 'react-router-dom'\nimport './header.styles.scss'\n\nconst Header = ({ isAdmin, loggedIn, firstName }) => {\n  if (loggedIn) {\n    if (isAdmin) {\n            // **Admin Nav Bar **\n            return (\n              <div className='header'>\n                {`Welcome ${firstName}(Admin)!`}\n                <div className='nav-options'>\n                  <NavLink \n                    className='option' \n                    to='/wines'>\n                  Wines\n                  </NavLink>\n                  <NavLink \n                    className='option' \n                    to='/offers'>\n                  Offers\n                  </NavLink>\n\n                  <NavLink \n                    className='option' \n                    to='/signout'>\n                  Sign Out\n                  </NavLink>\n                </div>\n              </div>\n            )  // **END Admin Nav Bar **\n    } else {\n      // ** User Nav Bar **\n      return (\n      <div className='header'>\n      {`Welcome ${firstName}(User)!`}\n      <div className='nav-options'>\n        \n        <NavLink \n          className='option' \n          to='/'>\n        Home\n        </NavLink>\n        \n        <NavLink \n          className='option' \n          to='/user/transactions'>\n        Purchase History\n        </NavLink>\n\n        <NavLink \n          className='option' \n          to='/user/profile'>\n        Profile\n        </NavLink>\n\n        \n        <NavLink \n          className='option' \n          to='/signout' >\n        Sign Out\n        </NavLink>\n      </div>\n    </div>\n      )   // END User Nav Bar **\n  }\n } else {\n   // ** Not Logged In Bar **\n    return (\n      <div className='header'>\n      <div className='nav-options'>\n\n        <NavLink \n          className='option' \n          to='/' >\n        LARGE BOTTLEROCKET LOGO HERE THAT TAKES NOT LOGGED IN BACK TO SPLASH SCREEN\n        </NavLink>\n\n        <NavLink \n          className='option' \n          to='/signup' >\n        Sign Up\n        </NavLink>\n        \n        <NavLink \n          className='option' \n          to='/signin' >\n        Log In\n        </NavLink>\n      </div>\n    </div>\n    )\n  }\n}\n\nexport default Header\n","import React from 'react'\nimport './input.styles.scss'\n\nconst Input = props => {\n\n    return (\n        <>  \n                <input\n                        onChange={(e)=>props.chg(e)}\n                        name={props.name}\n                        className={props.inputClass}\n                        placeholder={props.label}\n                        value={props.value}\n                        type={props.inputType}\n                 />\n        </>\n        )\n}\n\nInput.defaultProps = {\n        inputType: 'text',\n        inputClass: 'form-input'\n}\n\nexport default Input;","// const API_ROOT = `http://localhost:3000`;\nconst API_ROOT = 'https://ancient-thicket-66765.herokuapp.com'\n\nconst getAdminData = () => {\n    return fetch(`${API_ROOT}/admin/data`, {credentials: 'include'})\n}\n\nconst newWine = (config) => {\n    return fetch(`${API_ROOT}/wines/new`, config)\n}\n\nconst deleteWine = (id, config) => {\n    return fetch(`${API_ROOT}/wines/${id}`, config)\n}\n\nconst autoLogin = () => {\n    return fetch(`${API_ROOT}/autologin`, {credentials: 'include'})\n}\n\nconst signUp = (config) => {\n    return fetch(`${API_ROOT}/subscriptions/new`, config)\n}\n\nconst logout = (config) => {\n    return fetch(`${API_ROOT}/logout`, config)\n}\n\nconst login = (config) => {\n    return fetch(`${API_ROOT}/login`, config)\n}\n\nconst newOffer = (config) => {\n    return fetch(`${API_ROOT}/offers/new`, config)\n}\n\nconst deleteOffer = (id, config) => {\n    return fetch(`${API_ROOT}/offers/${id}`, config)\n}\n\nconst getProfile = () => {\n    return fetch(`${API_ROOT}/user/profile`, {credentials: 'include'})\n}\n\nconst deleteProfile = (config) => {\n    return fetch(`${API_ROOT}/user/profile`, config)\n}\n//same; consider refactor   /   alias \nconst updateProfile = (config) => {\n    return fetch(`${API_ROOT}/user/profile`, config)\n}\n\n\n\nexport default {\n    API_ROOT:           API_ROOT,\n    auth:   {\n        login:          login,\n        autoLogin:      autoLogin,\n        logout:         logout\n            },\n    admin:  {\n        getData:           getAdminData,\n        newWine:        newWine,\n        deleteWine:     deleteWine,\n        newOffer:       newOffer,\n        deleteOffer:    deleteOffer\n            },\n    app:    {\n        signUp:         signUp\n            },\n    user:   {\n        show:           getProfile,\n        destroy:        deleteProfile,\n        update:         updateProfile\n    }\n};","import React, { Component } from 'react'\nimport Input from '../../components/input/input'\nimport api from '../../services/api'\n\nclass SignIn extends Component {\n  state = {\n    email: '',\n    password: ''\n  }\n\n  inputChanged = (event) => {\n    this.setState({[event.target.name]: event.target.value})\n  }\n\n  componentWillUnmount() {\n    this.props.clearError()\n  }\n\n  login = (event) => {\n    event.preventDefault();\n\n    const config = {\n            method: 'POST',\n            credentials: 'include',\n            headers: {\n              \"accept\": \"application/json\",\n              \"content-type\": \"application/json\"\n            },\n            body: JSON.stringify(this.state)\n    }\n\n    api.auth.login(config)\n      .then(resp=>resp.json())\n      .then(json=>this.props.afterLogin(json))\n  }\n\n\n  render() {\n    return (\n      <div className='group'>\n        <form onSubmit={this.login} >\n          {this.props.error ? <h3>{this.props.error}</h3> : null}\n          <Input name={'email'} chg={this.inputChanged} label={'Email'} />\n          <Input name={'password'} chg={this.inputChanged} label={'Password'} inputType={'password'} />\n          <input type='submit' />\n        </form>\n      </div>\n    )\n  }\n}\n\nexport default SignIn\n","import React, { Component } from 'react'\nimport api from '../../services/api'\n\nclass SignOut extends Component {\n\n  state = {\n    color: 'black'\n  }\n\n  componentDidMount() {\n    this.blinker = setInterval(this.animateMsg, 250)\n    console.log('Logging out in 10 seconds...')\n    setTimeout(this.logout, 1800)\n  }\n\n  animateMsg = () => {\n    // const colors = ['black', 'gray']\n    // const newColor = colors[~~(Math.random() * colors.length)]\n    const colors = {'black': 'gray', 'gray': 'black'}\n    this.setState({\n      color: colors[this.state.color]\n    })\n  }\n\n  logout = () => {\n    clearInterval(this.blinker)\n\n    const config = {\n            method: 'DELETE',\n            credentials: 'include',\n            headers: {\n              \"accept\": \"application/json\",\n              \"content-type\": \"application/json\"\n            }\n    }\n\n    api.auth.logout(config)\n      .then(resp=>resp.json())\n      .then(json=>this.props.afterLogout(json))\n  }\n\n  render() {\n    return (\n      <div>\n        <h1 style={{color: this.state.color}}>Logging Out...</h1>\n      </div>\n    )\n  }\n}\n\nexport default SignOut","const states = {\n    \"AL\": \"Alabama\",\n    \"AK\": \"Alaska\",\n    \"AZ\": \"Arizona\",\n    \"AR\": \"Arkansas\",\n    \"CA\": \"California\",\n    \"CO\": \"Colorado\",\n    \"CT\": \"Connecticut\",\n    \"DE\": \"Delaware\",\n    \"DC\": \"District Of Columbia\",\n    \"FL\": \"Florida\",\n    \"GA\": \"Georgia\",\n    \"HI\": \"Hawaii\",\n    \"ID\": \"Idaho\",\n    \"IL\": \"Illinois\",\n    \"IN\": \"Indiana\",\n    \"IA\": \"Iowa\",\n    \"KS\": \"Kansas\",\n    \"KY\": \"Kentucky\",\n    \"LA\": \"Louisiana\",\n    \"ME\": \"Maine\",\n    \"MD\": \"Maryland\",\n    \"MA\": \"Massachusetts\",\n    \"MI\": \"Michigan\",\n    \"MN\": \"Minnesota\",\n    \"MS\": \"Mississippi\",\n    \"MO\": \"Missouri\",\n    \"MT\": \"Montana\",\n    \"NE\": \"Nebraska\",\n    \"NV\": \"Nevada\",\n    \"NH\": \"New Hampshire\",\n    \"NJ\": \"New Jersey\",\n    \"NM\": \"New Mexico\",\n    \"NY\": \"New York\",\n    \"NC\": \"North Carolina\",\n    \"ND\": \"North Dakota\",\n    \"OH\": \"Ohio\",\n    \"OK\": \"Oklahoma\",\n    \"OR\": \"Oregon\",\n    \"PA\": \"Pennsylvania\",\n    \"RI\": \"Rhode Island\",\n    \"SC\": \"South Carolina\",\n    \"SD\": \"South Dakota\",\n    \"TN\": \"Tennessee\",\n    \"TX\": \"Texas\",\n    \"UT\": \"Utah\",\n    \"VT\": \"Vermont\",\n    \"VA\": \"Virginia\",\n    \"WA\": \"Washington\",\n    \"WV\": \"West Virginia\",\n    \"WI\": \"Wisconsin\",\n    \"WY\": \"Wyoming\"\n}\n\nexport default states;","import React , { PureComponent} from 'react'\nimport './sign-up-form.styles.scss'\nimport Input from '../input/input'\n\nimport states from '../../states'\n\nexport default class SignUpForm extends PureComponent {\n  state = {\n    firstName: '',\n    lastName: '',\n    email: '',\n    password: '',\n    mobileNumber: '',\n    shippingAddress1: '',\n    shippingAddress2: '',\n    city: '',\n    zipcode: '',\n    state: \"CA\"\n  }\n\n  inputChanged = (event) => {\n    this.setState({[event.target.name]: event.target.value})\n  }\n\n  \n\n  render() {\n    return (\n      <div className='group'>\n        <form onSubmit={(e)=>this.props.submit(e, this.state)}>\n          \n          {/* More elegant solution for this soon */}\n          {Object.entries(this.props.errors).map(err=><h3>{`${err[0]} => ${err[1][0]}`}</h3>)}\n          \n          <Input name='firstName' value={this.state.firstName} label='First Name:' chg={this.inputChanged} />\n          <Input name='lastName' value={this.state.lastName} label='Last Name:' chg={this.inputChanged} />\n          <Input name='email' value={this.state.email} label='Email:' inputType='email' chg={this.inputChanged} />\n          <Input name='password' value={this.state.password} label='Password (consider alternate method):' inputType='password' chg={this.inputChanged} />\n          <Input name='mobileNumber' value={this.state.mobileNumber} label='Cell Phone:' inputType='tel' chg={this.inputChanged} />\n          <Input name='shippingAddress1' value={this.state.shippingAddress1} label='Address:' chg={this.inputChanged} />\n          <Input name='shippingAddress2' value={this.state.shippingAddress2} label='Apt / Other (revise this text):' chg={this.inputChanged} />\n          <Input name='city' value={this.state.city} label='City:' chg={this.inputChanged} />\n          <Input name='zipcode' value={this.state.zipcode} label='ZIP Code:' inputType='number' chg={this.inputChanged} />\n\n            <select name='state' onChange={(e)=>this.inputChanged(e)} value={this.state.state} >\n            {Object.entries(states).map(([abb, name])=>\n                          (<option key={abb} value={abb}>{name}</option>)\n                      )}\n          </select>\n          <input type='submit' />\n        </form>\n      </div>\n    )\n  }\n}","import React, { PureComponent } from 'react'\nimport SignUpForm from '../../components/sign-up-form/SignUpForm'\nimport './sign-up.styles.scss'\nimport api from '../../services/api'\n\nclass SignUp extends PureComponent {\n  state = {\n    success: false,\n    errors: [] \n  }\n\n  submitNewUser = (e, formContents) => {\n    const newState = {};\n    e.preventDefault();\n    const data = JSON.stringify(formContents);\n    \n    const config = {\n                  method: \"POST\",\n                  body: data,\n                  credentials: 'include',\n                  headers: {\n                    \"accept\": \"application/json\",\n                    \"Content-Type\": \"application/json\",\n                  }\n                }\n\n    api.app.signUp(config)\n      .then(resp=> {\n                  newState.success = resp.status === 200\n                  return resp.json()\n              })\n      .then(json=>{\n                  newState.errors = json.errors || []\n      })\n      .then(()=>this.setState(newState))\n  }\n\n  render() {\n    if (this.state.success) {\n      return <><p>Signup complete!  Now sit back and wait for delicious grape juice offers to be sent to you.</p></>       //on successful signup!\n    } else {\n      //  signing up or form needs to be updated with error from backend (uniqueness fail for fields etc.)\n      return (\n        <div className='group'>\n          <h1 className='title'>Sign Up for BottleRocket</h1>\n          <SignUpForm submit={this.submitNewUser} errors={this.state.errors} />\n        </div>\n      )\n    }\n  }\n}\n\nexport default SignUp\n","import React from 'react';\nimport './new-wine-form.styles.scss';\nimport Input from '../input/input';\nimport * as ActiveStorage from '@rails/activestorage'\nActiveStorage.start()\n\nexport default class NewWineForm extends React.PureComponent {\n  \n  state = {\n    fullName: '',\n    price: null,\n    inventory: null,\n    color: null,\n    natural: false,\n    organic: false,\n    biodynamic: false,\n    image: null\n  }\n\n  handlePreviewImage = (event) => {\n    const imgFile = event.target.files[0]\n    if (imgFile) { //way to add code to limit to one file in picker?\n      this.setState({\n        image: imgFile,\n        preview: URL.createObjectURL(imgFile)\n      }, this.props.upload(imgFile))\n    }\n  }\n\n  handleChange = (event) => {\n    const newState = {}\n    const ele = event.target\n\n    if (ele.type === 'checkbox') {\n        newState[ele.name] = ele.checked\n    } else {\n        newState[ele.name]= ele.value\n    }\n    \n    this.setState(newState)\n  }\n\n  render() {\n    const { newWine, hasImg } = this.props\n    const { fullName, preview, price, inventory, color, natural, organic, biodynamic } = this.state\n    const chg = this.handleChange\n\n    return (\n      <div className='group'>\n        <h3>Add New Wine</h3>\n        <form \n          onSubmit={(e) => newWine(e, this.state.image)}\n          encType='multipart/form-data'\n        >\n          <input \n            type='file'\n            name='image'\n            accept='image/*'\n            onChange={this.handlePreviewImage}\n          />\n          <img \n            src={preview} alt=\"\" \n            style={{width: '250px', height: \"250px\"}} \n          />\n\n          <Input name=\"fullName\" \n            chg={chg} \n            label='Wine Name (full)' \n          />\n          <Input \n            name='price'\n            chg={chg} \n            label='Price:'\n          />\n          <Input \n            name='inventory' \n            chg={chg} \n            label='Inventory:'\n          />\n          <Input \n            name='color' \n            chg={chg} \n            label='Color:'\n          />\n          <label>Natural:\n            <input \n              name='natural' \n              type='checkbox' \n              checked={natural} \n              onChange={chg} \n            />\n          </label>\n          <label>Organic:\n            <input \n              name='organic' \n              type='checkbox' \n              checked={organic} \n              onChange={chg} \n            />\n          </label>\n          <label>Biodynamic:\n            <input \n              name='biodynamic' \n              type='checkbox' \n              checked={biodynamic} \n              onChange={chg} \n            />\n          </label>\n          <input type='submit'\n            disabled={!hasImg}\n          />\n        </form>\n      </div>\n    )\n  }\n}","import React from 'react'\n\nconst Wine = ({ wine, deleteWine, wineID }) => {\n  return (\n    <>\n      <h3>{wine.attributes.fullName}</h3>\n      <div>\n          <button onClick={(e)=>deleteWine(e, wineID)} >Delete Wine</button>\n      </div>\n    </>\n  )\n}\n\nexport default Wine","import React, { PureComponent } from 'react'\nimport NewWineForm from '../../components/new-wine-form/NewWineForm'\nimport Wine from '../../components/wine/Wine'\nimport { DirectUpload } from '@rails/activestorage'\nimport api from '../../services/api'\nconst API_ROOT = 'https://ancient-thicket-66765.herokuapp.com'\n\nexport class WinesPanel extends PureComponent {\n  state = {\n    mode: 'view',  // view add\n    hasImageAttached: false,\n    image: null\n  }\n\n  directUpload = (file) => {\n    const upload = new DirectUpload(file, `${API_ROOT}/images/direct_upload`)\n    upload.create((this.directUploadComplete))\n  }\n  \n  directUploadComplete = (error, response) =>{\n    this.setState({\n      hasImageAttached: (!error && !!response.key),\n      image: response.key || null\n    })\n  }\n\n\n\n  submitNewWine = (event) => {\n    event.preventDefault();\n    if (!this.state.hasImageAttached) {\n      return //block form submit if no image attached\n    }\n    // const pickValues = (...keys) => obj => keys.reduce((a, e) => ({...a, [e]: obj[e] }), {})\n    // const formData = pickValues('wineID', 'offerDateTime', 'numOffered')(values)\n    const formData = new FormData(event.target)\n    formData.append(\"imageKey\", this.state.image)\n    \n    const config = {\n            method: 'POST',\n            credentials: 'include',\n            body: formData\n    }\n    \n    api.admin.newWine(config)\n      .then(resp=>this.processNewWine(resp))\n  }\n\n  processNewWine = (response) => {\n    if (response.status === 200) {\n      this.setState({\n        mode: 'view'\n      })\n      this.props.updateData();\n    } else {\n      //error handle newWine failed!\n    }\n  }\n\n  setMode = (mode) => {\n    this.setState({\n      mode: mode\n    })\n  }\n\n  deleteWine = (event, id) => {\n    event.persist() //to help with button enable in other function on failed destroy\n    event.target.disabled = true\n    const config = {\n                  method: 'DELETE',\n                  credentials: 'include'\n    }\n\n    api.admin.deleteWine(id, config)\n      .then(resp=>this.afterDelete(event, resp))\n        }\n\n  afterDelete = (event, response) => {\n    if (response.status === 200) {\n      this.props.updateData()\n    } else {\n      event.target.disabled = false\n      //Other error display about offer not successfully deleted here\n    }\n  }\n\n  render() {\n    switch (this.state.mode) {\n      case 'add':\n        return (\n          <NewWineForm \n            hasImg={this.state.hasImageAttached}\n            upload={this.directUpload}\n            newWine={this.submitNewWine}\n            setMode={this.setMode}\n        />\n        )\n      default:            //default is view\n        return (\n          <>\n            <div>\n              <button onClick={()=>this.setMode('add')} >Add New Wine</button>\n            </div>\n            {this.props.wines.map(wine => <Wine \n                                              key={wine.id}\n                                              wine={wine}\n                                              wineID={wine.id} \n                                              deleteWine={this.deleteWine} \n                                            />\n                                    )}\n          </>\n        )\n    }\n  }\n}\n\nexport default WinesPanel","import React from 'react'\nimport './new-offers.styles.scss'\n\nexport default class NewOfferForm extends React.PureComponent {\n  state = {\n    offerDateTime: new Date(Date.now()).toISOString().slice(0,11)+ '16:45',\n    maxForThisWine: null,\n    numOffered: 1,\n    wineSelected: false,\n    wineID: this.props.wines[0].id\n  }\n\n\n  handleChange = (event) => {\n    const newState = {}\n    const ele = event.target\n\n    if (ele.value === 'choose') {\n      newState.wineSelected = false  //to disable rest of form if no wine selected\n    } else {\n      if (ele.type === 'checkbox') {\n          newState[ele.name] = ele.checked\n      } else {\n          newState[ele.name]= ele.value\n      }\n      if (ele.name === 'wineID') {\n        newState.wineSelected = true      //otherwise enable rest of form\n        newState.maxForThisWine = this.props.wines.find(wine=>wine.id == +ele.value).attributes.inventory\n        if (newState.maxForThisWine < this.state.numOffered) {\n          newState.numOffered = newState.maxForThisWine\n        }\n      }\n    }\n    this.setState(newState)\n  }\n\n  render() {\n    const {wines, newOffer, setMode} = this.props\n    const { offerDateTime } = this.state\n    const disabled = !this.state.wineSelected\n\n    return (\n      <div className='group' >\n        <h1>Create New Offer</h1>\n        <form onSubmit={(e)=>newOffer(e, this.state)} >\n          \n          {/* <label htmlFor='allSubscribers'>Send to All My Subscribers\n            <input name='allSubscribers'\n              id='allSubscribers' type='checkbox' \n              onChange={this.handleChange}\n              checked={this.state.allSubscribers}\n            />\n          </label> */}\n\n\n          <select \n              name='wineID'\n              onChange={this.handleChange}\n              required\n          >\n            <option value='choose'\n             label=\"Choose a Wine for this Offer\" />\n\n            {wines.map(wine=>\n              <option key={wine.id}\n                    value={wine.id}>\n                      {`${wine.attributes.fullName} (${wine.attributes.inventory}btls)`}\n                </option>  \n              )}      \n          </select>\n\n\n          <label htmlFor='numOffered'>Number to Offer</label>\n          <input name='numOffered' \n              onChange={this.handleChange} \n              min='1' \n              type='number'\n              value={this.state.numOffered}\n              max={this.state.maxForThisWine}\n              disabled={disabled}\n          />\n\n          <div>\n            <label htmlFor='offer-time'>Choose a Date/Time to SMS this Offer:</label>\n\n            <input type='datetime-local' \n                id='offer-time'\n                name='offerDateTime'\n                value={offerDateTime}\n                disabled={disabled}\n                onChange={this.handleChange}\n            />\n          </div>\n          \n          <div>\n            <button type='button'\n              onClick={()=>setMode('view')} >\n            Cancel\n            </button>\n            \n            <button\n              disabled={disabled}\n              type='submit'>\n            Save New Offer\n            </button>\n          </div>\n        </form>\n      </div>\n    )\n  }\n}","import React from 'react'\n\nconst Offer = ({ offer, deleteOffer, offerID, broadcastOffer }) => {\n  return (\n    <>\n      <h3>{offer.fullName}</h3>\n      <h4>Date of Offer: {offer.offerDateTime}    Sold: {offer.numSold || 0}/{offer.numOffered}</h4>\n      <div>\n        <h4>Offer{offer.isActiveOffer ? \" Active\" : \" Inactive\"}\n          <button onClick={(e)=>deleteOffer(e, offerID)} >Delete Offer</button>\n          <button onClick={()=>broadcastOffer(offerID)} >Broadcast this Offer Now</button>\n          {/* Rocket icon in button !! */}\n        </h4>\n      </div>\n    </>\n  )\n}\n\nexport default Offer","import React, { Component } from 'react'\nimport NewOfferForm from '../../components/new-offers-form/NewOfferForm'\nimport Offer from '../../components/offer/Offer'\nimport api from '../../services/api'\n\nexport class OffersPanel extends Component {\n  state = {\n    selectedOffer: null,\n    mode: 'view'  // view broadcast create\n  }\n\n  submitNewOffer = (event, values) => {\n    event.preventDefault();\n\n    const pickValues = (...keys) => obj => keys.reduce((a, e) => ({...a, [e]: obj[e] }), {})\n    const formData = pickValues('wineID', 'offerDateTime', 'numOffered')(values)\n    const config = {\n            method: 'POST',\n            headers: {\n              'accept': 'application/json',\n              'content-type': 'application/json'\n            },\n            credentials: 'include',\n            body: JSON.stringify(formData)\n    }\n    api.admin.newOffer(config)\n      .then(resp=>this.processNewOffer(resp))\n  }\n\n  processNewOffer = (response) => {\n    if (response.status === 200) {\n      this.setState({\n        mode: 'view'\n      })\n      this.props.updateData();\n    } else {\n      //error handle newOffer failed!\n    }\n  }\n\n  setMode = (mode) => {\n    this.setState({\n      mode: mode\n    })\n  }\n\n  deleteOffer = (event, id) => {\n    event.persist() //to help with button enable in other function on failed destroy\n    event.target.disabled = true\n    const config = {\n                  method: 'DELETE',\n                  credentials: 'include'\n    }\n\n    api.admin.deleteOffer(id, config)\n      .then(resp=>this.afterDelete(event, resp))\n  }\n\n  afterDelete = (event, response) => {\n    if (response.status === 200) {\n      this.props.updateData()\n    } else {\n      event.target.disabled = false\n      //Other error display about offer not successfully deleted here\n    }\n  }\n\n  broadcastOffer = (offerID) => {\n    console.log(`Going to view to broadcast Offer via BottleRocket SMS for offer ${offerID}!`)\n    this.setState({\n      mode: 'broadcast',\n      selectedOffer: offerID\n    })\n  }\n\n  render() {\n    switch (this.state.mode) {\n      case 'create':\n        return (\n          <NewOfferForm \n            newOffer={this.submitNewOffer} \n            wines={this.props.wines} \n            setMode={this.setMode}\n        />\n        )\n      case 'broadcast':\n        return <>Broadcast using Twilio Offer #{this.state.selectedOffer}\n                <button \n                  type='button' \n                  onClick={()=>this.setMode('view')}\n                >\n                Cancel\n                </button></>\n      default:            //default is view\n        return (\n          <>\n            <div>\n              <button onClick={()=>this.setMode('create')} >Create New Offer</button>\n            </div>\n            {this.props.offers.map(offer => <Offer \n                                              key={offer.id} \n                                              offerID={offer.id} \n                                              deleteOffer={this.deleteOffer} \n                                              broadcastOffer={this.broadcastOffer}\n                                              offer={offer.attributes} />)}\n          </>\n        )\n    }\n  }\n}\n\nexport default OffersPanel","import React, { Component } from 'react'\nimport Analytics from '../analytics/Analytics'\nimport './admin-panel.styles.scss'\nimport SubscribedUsers from '../../containers/subscribed-users-container/SubscribedUsersContainer'\nimport { Route, Switch } from 'react-router-dom'\nimport SignOut from '../../pages/sign-out/SignOut'\nimport WinesPanel from '../../pages/wines-panel/WinesPanel'\nimport OffersPanel from '../../pages/offers-panel/OffersPanel'\nimport api from '../../services/api'\n\nclass AdminPanel extends Component {\n  state = {\n    users: [],\n    offers: [],\n    wines: [],\n    dataFetchInProgress: false,\n    dataNeedsUpdate: true\n  }\n\n  componentDidMount() {\n    this.getNewData()\n  }\n\n  dataNeedsUpdate = () => {\n    this.setState({\n      dataNeedsUpdate: true\n      }, ()=> this.getNewData()\n    )\n  }\n\n  getNewData = () => {\n    const { dataFetchInProgress, dataNeedsUpdate } = this.state\n\n    if (!dataFetchInProgress && dataNeedsUpdate) {\n      this.setState({\n        dataFetchInProgress: true\n      }, () => {\n              api.admin.getData()\n                .then(res => res.json())\n                .then(json => {\n                  this.setState({ \n                    offers: json.offers.data,\n                    wines: json.wines.data,\n                    users: json.users.data,\n                    dataFetchInProgress: false,\n                    dataNeedsUpdate: false\n                    })\n                  })\n        })\n    }  \n  }\n\n  render() {\n    const { afterLogout } = this.props\n\n    return (\n      <Switch>\n            <Route exact path='/signout' render={() =>(<SignOut afterLogout={afterLogout} />)} />\n            <Route path='/wines' render={() => (<WinesPanel wines={this.state.wines} updateData={this.dataNeedsUpdate} />)} />\n            <Route path='/offers' render={() => (<OffersPanel wines={this.state.wines} offers={this.state.offers} updateData={this.dataNeedsUpdate} />)} />\n            {/* <Route path='/subscribedusers' component={OffersPanel} /> */}\n      </Switch>\n    )\n  }\n}\n\nexport default AdminPanel\n","import React from 'react'\nimport './about.styles.scss'\n\nconst About = () => {\n  return (\n    <div>\n      <p>Welcome to Bottle Rocket, Where you can get great quality wines directly to you...</p>\n    </div>\n  )\n}\n\nexport default About\n","import React from 'react'\nimport AdminPanel from '../../components/admin-panel/AdminPanel'\nimport About from '../../components/about/About'\n\nconst HomePage = ({ isAdmin }) => {\n  return (\n    <div>\n      {isAdmin ? <AdminPanel /> : <About />}\n    </div>\n  )\n}\n\nexport default HomePage\n","import React from 'react'\nimport Input from '../../components/input/input'\nimport states from '../../states'\nimport { Link } from 'react-router-dom'\nimport './ProfileForm.styles.scss'\n\nconst ProfileForm = ({ firstName, lastName, email, mobileNumber, shippingAddress1, shippingAddress2, city, state, zipcode, handleDelete, handleInputChange, handleEditSubmit }) => {\n  if (firstName) {\n  return (\n    <div className='group'>\n      <form onSubmit={(event) => handleEditSubmit(event)}>\n        <Input \n          name='firstName' \n          value={firstName}\n          label={'First Name'}\n          chg={handleInputChange} \n        />\n        <Input \n          name='lastName' \n          value={lastName}\n          label={'Last Name'} \n          chg={handleInputChange} \n        />\n        <Input \n          name='email' \n          value={email}\n          label={'Email'} \n          inputType='email' \n          chg={handleInputChange} \n        />\n        <Input \n          name='mobileNumber' \n          value={mobileNumber}\n          label={'Mobile Number for SMS'} \n          inputType='tel' \n          chg={handleInputChange} \n        />\n        <Input \n          name='shippingAddress1' \n          value={shippingAddress1}\n          label={'Delivery Address'} \n          chg={handleInputChange}\n          />\n        <Input \n          name='shippingAddress2' \n          value={shippingAddress2}\n          label={'Apt / Unit / Other (revise!)'}\n          chg={handleInputChange} \n        />\n        <Input \n          name='city' \n          value={city}\n          label={'City'} \n          chg={handleInputChange} \n        />\n        <Input \n          name='zipcode' \n          value={zipcode}\n          label={'ZIP'} \n          chg={handleInputChange} \n        />\n\n          <select \n            name='state' \n            onChange={(e)=>handleInputChange(e)} \n            value={state} \n            className='form-input'\n          >\n          {Object.entries(states).map(([abb, name]) => (<option key={abb} value={abb}>{name}</option>))}\n          </select>\n        <input type='submit' />\n      </form>\n      <Link to='/'>\n        <button onClick={handleDelete}>Delete Profile</button>\n      </Link>\n    </div>\n  )\n  } else {\n    return null\n  }\n}\n\nexport default ProfileForm\n","import React, { Component } from 'react'\nimport ProfileForm from '../../pages/profile/ProfileForm'\nimport './profile-container.styles.scss'\nimport api from '../../services/api'\n\nexport class ProfileContainer extends Component {\n  state = {\n\n  }\n\n  componentDidMount() {\n    api.user.show()\n      .then(resp=>resp.json())\n      .then(json=>this.setFields(json.user.data.attributes))\n  \n  }\n\n  setFields = (user) => {\n    this.setState(user)\n  }\n  \n  handleDelete = () => {\n    const config = {\n                  method: \"DELETE\",\n                  credentials: 'include'\n    }\n    api.user.destroy(config)\n      .then(res=>this.props.afterDestroy)\n      \n    }\n\n  handleInputChange = (event) => {\n    const { name, value } = event.target\n    this.setState({ [name]: value })\n  }\n\n  handleEditSubmit = (event) => {\n    event.preventDefault();\n\n    const config = {\n      method: \"PATCH\",\n      credentials: 'include',\n      headers: {\n        \"accept\": \"application/json\",\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(this.state)\n    };\n\n    api.user.update(config)\n      .then(res => res.json())\n      .then(console.log)\n  }\n\n\n  render() {\n    return (\n      <div>\n        <ProfileForm \n          firstName={this.state.firstName}\n          lastName={this.state.lastName} \n          email={this.state.email}\n          mobileNumber={this.state.mobileNumber} \n          shippingAddress1={this.state.shippingAddress1} \n          shippingAddress2={this.state.shippingAddress2} \n          city={this.state.city} \n          state={this.state.state} \n          zipcode={this.state.zipcode}  \n          handleDelete={this.handleDelete}\n          handleEditSubmit={this.handleEditSubmit}\n          handleInputChange={this.handleInputChange}\n        />\n      </div>\n    )\n  }\n}\n\nexport default ProfileContainer\n","import React from 'react'\nimport SignIn from '../../pages/sign-in/SignIn'\nimport SignOut from '../../pages/sign-out/SignOut'\nimport SignUp from '../../pages/sign-up/SignUp'\nimport HomePage from '../../pages/homepage/HomePage'\nimport AdminPanel from '../../components/admin-panel/AdminPanel'\nimport ProfileContainer from '../profile-container/ProfileContainer'\nimport { Route, Switch } from 'react-router-dom'\n\nclass MainContainer extends React.Component  {\n  \n  render() {\n    const { loggedIn, isAdmin, afterLogin, afterLogout, afterDestroy, loginError, clearLoginError } = this.props\n\n    if (loggedIn) {\n      if (isAdmin) {\n        //Admin is logged in\n        return (\n        <>\n          <AdminPanel afterLogout={afterLogout} />\n        </>\n        )\n      } else {\n        // SubscribedUser is logged in\n        return (\n          <>\n            <Switch>\n              <Route exact path='/' render={() => <HomePage isAdmin={isAdmin}/>} />\n              <Route exact path='/signout' render={() =>(<SignOut afterLogout={afterLogout} />)} />\n              <Route path='/user/profile' render={() =>(<ProfileContainer afterDestroy={afterDestroy} />)} />\n            </Switch>\n          </>\n        )\n      }\n    } else {\n      // No One is Logged In\n      return (\n          <>(need splash screen for app  i.e. HOW BOTTLEROCKET WORKS)\n          <Switch>\n            <Route exact path='/signin' render={() =>(<SignIn error={loginError} clearError={clearLoginError} afterLogin={afterLogin} />)} />\n            <Route exact path='/signup' component={SignUp} />\n          </Switch>\n          </>\n      )\n    }\n  }\n}\n\nexport default MainContainer\n","import React from 'react';\nimport Header from './components/header/Header'\nimport MainContainer from './containers/main-container/MainContainer'\nimport { withRouter } from 'react-router-dom'\nimport './App.css';\nimport api from './services/api'\n\nclass App extends React.PureComponent {\n  state = {\n    loggedIn: false,\n    isAdmin: false,\n    email: null,\n    firstName: null,\n    loginError: null\n  }\n\n  componentDidMount() {\n    api.auth.autoLogin()\n      .then(resp=>resp.json())\n      .then(json=>this.checkLogin(json))\n\n  }\n\n  checkLogin = (json) => {\n    if (json.expires) {  //setTimeout interval IF logged in (has expiry key)\n      const expiresIn = Date.parse(json.expires) - Date.now()\n      setTimeout(this.logout, expiresIn)\n    }\n    this.setState({\n      loggedIn: json.loggedIn,\n      isAdmin: json.isAdmin,\n      email: json.email,\n      firstName: json.firstName,\n      logsOutAt: json.expires || null,\n      loginError: json.error || null\n    })\n  }\n\n  logout = () => {\n    this.setState({\n      loggedIn: false,\n      isAdmin: false,\n      email: null,\n      firstName: null,\n      logsOutAt: null,\n      loginError: 'Your session timed out. Please login.'\n    }, () => this.props.history.push('/signin'))\n  }\n\n  clearLoginErrors = () => {\n    this.setState({\n      loginError: null\n    })\n  }\n\n  afterLogout = (json) => {\n    this.checkLogin(json)\n    this.props.history.push('/')\n  }\n\n  afterLogin = (json) => {\n    this.checkLogin(json)\n    if (json.loggedIn) {     //Only re-route on successful login, otherwise leave login component and re-render with errors\n      this.props.history.push('/')\n    }\n  }\n\n  afterDestroy = () => {\n    this.setState({\n      loggedIn: false,\n      isAdmin: false,\n      email: null,\n      firstName: null\n    })\n  }\n\n  render() {\n    return (\n      <div>\n        <Header \n            loggedIn={this.state.loggedIn} \n            isAdmin={this.state.isAdmin}\n            email={this.state.email}\n            firstName={this.state.firstName}\n        />\n        <MainContainer \n          loggedIn={this.state.loggedIn}\n          loginError={this.state.loginError}\n          isAdmin={this.state.isAdmin}\n          clearLoginError={this.clearLoginErrors}\n          afterLogin={this.afterLogin}\n          afterLogout={this.afterLogout}\n          afterDestroy={this.afterDestroy}\n        />\n      </div>\n    );\n  }\n}\n\nexport default withRouter(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { BrowserRouter as Router } from 'react-router-dom'\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <Router>\n    <App />\n  </Router>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}